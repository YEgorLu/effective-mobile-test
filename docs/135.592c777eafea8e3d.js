"use strict";(self.webpackChunkeffective_mobile_test=self.webpackChunkeffective_mobile_test||[]).push([[135],{7135:(J,l,r)=>{r.r(l),r.d(l,{AuthorizationModule:()=>U});var c=r(6814),m=r(4581),n=r(6223),A=r(4748),C=r(8645),v=r(9773),t=r(5879),h=r(2939),z=r(9483),s=r(9157),d=r(2032),f=r(2296),p=r(5195);function Z(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"\u041f\u0443\u0441\u0442\u043e\u0439 email"),t.qZA())}function F(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 email"),t.qZA())}function x(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"\u041c\u0435\u043d\u0435\u0435 7 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),t.qZA())}function y(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"\u041f\u0443\u0441\u0442\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),t.qZA())}const T=[{path:"",component:(()=>{var o;class e{constructor(u,a,g){this.snackBar=u,this.auth=a,this.route=g,this.authForm=new n.cw({email:new n.NI("",[n.kI.email,n.kI.required]),password:new n.NI("",[n.kI.minLength(7),n.kI.required])}),this.redirectUrl=null,this.destroy$=new C.x,this.route.queryParamMap.pipe((0,v.R)(this.destroy$)).subscribe(I=>this.redirectUrl=I.get("redirect"))}ngOnDestroy(){this.destroy$.next()}login(){if(this.authForm.invalid)return;const u=this.authForm.controls.email.value,a=this.authForm.controls.password.value;if(u&&a){if(!this.auth.isRegistered(u,a))return void this.snackBar.open("Email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435",void 0,{duration:2e5,panelClass:"snack"});this.auth.login(u,a,[this.redirectUrl||A.s.POSTS])}}}return(o=e).\u0275fac=function(u){return new(u||o)(t.Y36(h.ux),t.Y36(z.e),t.Y36(m.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-authorization"]],decls:16,vars:6,consts:[[3,"formGroup","ngSubmit"],["matInput","","placeholder","your@mail.ru","formControlName","email","required",""],[4,"ngIf"],["matInput","","placeholder","*******","formControlName","password","required",""],["mat-button","","type","submit",3,"disabled"]],template:function(u,a){1&u&&(t.TgZ(0,"mat-card")(1,"form",0),t.NdJ("ngSubmit",function(){return a.login()}),t.TgZ(2,"mat-form-field")(3,"mat-label"),t._uU(4,"Email"),t.qZA(),t._UZ(5,"input",1),t.YNc(6,Z,2,0,"mat-error",2),t.YNc(7,F,2,0,"mat-error",2),t.qZA(),t.TgZ(8,"mat-form-field")(9,"mat-label"),t._uU(10,"\u041f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t._UZ(11,"input",3),t.YNc(12,x,2,0,"mat-error",2),t.YNc(13,y,2,0,"mat-error",2),t.qZA(),t.TgZ(14,"button",4),t._uU(15,"\u0412\u043e\u0439\u0442\u0438"),t.qZA()()()),2&u&&(t.xp6(1),t.Q6J("formGroup",a.authForm),t.xp6(5),t.Q6J("ngIf",a.authForm.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",a.authForm.controls.email.hasError("email")),t.xp6(5),t.Q6J("ngIf",a.authForm.controls.password.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",a.authForm.controls.password.hasError("required")),t.xp6(1),t.Q6J("disabled",a.authForm.invalid))},dependencies:[c.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u,s.KE,s.hX,s.TO,d.Nt,f.lW,p.a8],styles:["mat-card[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f;padding:20px;background-color:var(--primary-clr)}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled){color:#fff}"]}),e})()}];let E=(()=>{var o;class e{}return(o=e).\u0275fac=function(u){return new(u||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.Bz.forChild(T),m.Bz]}),e})(),U=(()=>{var o;class e{}return(o=e).\u0275fac=function(u){return new(u||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,E,n.UX,s.lN,d.c,f.ot,p.QW,h.ZX]}),e})()}}]);